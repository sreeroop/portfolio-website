import { useState } from 'react';
import styled from '@emotion/styled';
import { AppBar, Stack, Box, IconButton, Drawer, Container, useMediaQuery, useTheme, Button } from '@mui/material'
import { Close, Menu } from "@mui/icons-material";
import ThemeToggler from './ThemeToggler';
import { Link } from 'react-scroll';


const Nav = () => {
    const theme = useTheme()


    const NavLinkStack = styled(Stack)(({ theme }) => ({
        '&.MuiStack-root': {
            [theme?.breakpoints?.down("lg")]: {
                display: "none",
            }
        },
        '& .MuiStack': {
            [theme?.breakpoints?.down("lg")]: {
                display: "none",
            }
        }
    }))
    const SideContainer = styled(Container)(({ theme }) => ({
        '&.MuiContainer-root': {
            marginLeft: '100px',
            [theme?.breakpoints?.up("md")]: {
                display: "none",
            }
        }
    }))
    // const BurgerIcon = styled(IconButton)(({ theme }) => ({
    //     '&.MuiIconButton-root': {
    //         [theme?.breakpoints?.up("md")]: {
    //             display: "none",
    //         }
    //     }
    // }))

    const [open, setOpen] = useState(false);

    const toggleDrawer = (open) => (event) => {
        setOpen(open);
    };
    const showStack = useMediaQuery(theme?.breakpoints?.up('lg'));
    return (
        <AppBar component="nav" sx={{ background: `linear-gradient(180deg,${theme?.palette?.secondary?.main} 15%,rgba(0,0,0,0))`, position: 'fixed', left: 0, top: 0, display: 'flex', justifyContent: 'space-between', flexDirection: 'row', alignItems: 'center', height: '10vh', width: '100vw', boxShadow: 'none' }
        }>
            {/* <Typography variant='h5'
                sx={{
                    // backgroundcolor: "primary",
                    // backgroundImage: `linear-gradient(45deg, ${theme?.palette?.color?.main} , ${theme?.palette?.primary?.main} )`,
                    // backgroundSize: "100%",
                    // backgroundRepeat: "repeat",
                    // backgroundClip: "text",
                    // WebkitBackgroundClip: "text",
                    // WebkitTextFillColor: "transparent",
                    marginLeft: '20px',
                    color: theme?.palette?.color?.main
                }}
            // sx={{

            // }}
            >SREEROOP</Typography> */}
            <Box sx={{
                marginLeft: '20px',

            }}>
                <Link spy smooth to="hero">
                    <svg width="150" height="70" viewBox="0 0 300 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            stroke={theme?.palette?.color?.main} strokeWidth="2.3" id="path"
                            d="M16.072 46.448C13.128 46.448 10.4827 45.936 8.136 44.912C5.832 43.8453 4.01867 42.3947 2.696 40.56C1.37333 38.6827 0.690667 36.528 0.648 34.096H6.856C7.06933 36.1867 7.92267 37.9573 9.416 39.408C10.952 40.816 13.1707 41.52 16.072 41.52C18.8453 41.52 21.0213 40.8373 22.6 39.472C24.2213 38.064 25.032 36.272 25.032 34.096C25.032 32.3893 24.5627 31.0027 23.624 29.936C22.6853 28.8693 21.512 28.0587 20.104 27.504C18.696 26.9493 16.7973 26.352 14.408 25.712C11.464 24.944 9.096 24.176 7.304 23.408C5.55467 22.64 4.04 21.4453 2.76 19.824C1.52267 18.16 0.904 15.9413 0.904 13.168C0.904 10.736 1.52267 8.58133 2.76 6.704C3.99733 4.82666 5.72533 3.376 7.944 2.352C10.2053 1.328 12.7867 0.815998 15.688 0.815998C19.8693 0.815998 23.2827 1.86133 25.928 3.952C28.616 6.04266 30.1307 8.816 30.472 12.272H24.072C23.8587 10.5653 22.9627 9.072 21.384 7.792C19.8053 6.46933 17.7147 5.808 15.112 5.808C12.68 5.808 10.696 6.448 9.16 7.728C7.624 8.96533 6.856 10.7147 6.856 12.976C6.856 14.5973 7.304 15.92 8.2 16.944C9.13867 17.968 10.2693 18.7573 11.592 19.312C12.9573 19.824 14.856 20.4213 17.288 21.104C20.232 21.9147 22.6 22.7253 24.392 23.536C26.184 24.304 27.72 25.52 29 27.184C30.28 28.8053 30.92 31.024 30.92 33.84C30.92 36.016 30.344 38.064 29.192 39.984C28.04 41.904 26.3333 43.4613 24.072 44.656C21.8107 45.8507 19.144 46.448 16.072 46.448ZM45.3145 16.624C46.3385 14.6187 47.7892 13.0613 49.6665 11.952C51.5865 10.8427 53.9118 10.288 56.6425 10.288V16.304H55.1065C48.5785 16.304 45.3145 19.8453 45.3145 26.928V46H39.4905V10.928H45.3145V16.624ZM95.3655 27.12C95.3655 28.2293 95.3015 29.4027 95.1735 30.64H67.1415C67.3548 34.096 68.5282 36.8053 70.6615 38.768C72.8375 40.688 75.4615 41.648 78.5335 41.648C81.0508 41.648 83.1415 41.072 84.8055 39.92C86.5122 38.7253 87.7068 37.1467 88.3895 35.184H94.6615C93.7228 38.5547 91.8455 41.3067 89.0295 43.44C86.2135 45.5307 82.7148 46.576 78.5335 46.576C75.2055 46.576 72.2188 45.8293 69.5735 44.336C66.9708 42.8427 64.9228 40.7307 63.4295 38C61.9362 35.2267 61.1895 32.0267 61.1895 28.4C61.1895 24.7733 61.9148 21.5947 63.3655 18.864C64.8162 16.1333 66.8428 14.0427 69.4455 12.592C72.0908 11.0987 75.1202 10.352 78.5335 10.352C81.8615 10.352 84.8055 11.0773 87.3655 12.528C89.9255 13.9787 91.8882 15.984 93.2535 18.544C94.6615 21.0613 95.3655 23.92 95.3655 27.12ZM89.3495 25.904C89.3495 23.6853 88.8588 21.7867 87.8775 20.208C86.8962 18.5867 85.5522 17.3707 83.8455 16.56C82.1815 15.7067 80.3255 15.28 78.2775 15.28C75.3335 15.28 72.8162 16.2187 70.7255 18.096C68.6775 19.9733 67.5042 22.576 67.2055 25.904H89.3495ZM135.053 27.12C135.053 28.2293 134.989 29.4027 134.861 30.64H106.829C107.042 34.096 108.216 36.8053 110.349 38.768C112.525 40.688 115.149 41.648 118.221 41.648C120.738 41.648 122.829 41.072 124.493 39.92C126.2 38.7253 127.394 37.1467 128.077 35.184H134.349C133.41 38.5547 131.533 41.3067 128.717 43.44C125.901 45.5307 122.402 46.576 118.221 46.576C114.893 46.576 111.906 45.8293 109.261 44.336C106.658 42.8427 104.61 40.7307 103.117 38C101.624 35.2267 100.877 32.0267 100.877 28.4C100.877 24.7733 101.602 21.5947 103.053 18.864C104.504 16.1333 106.53 14.0427 109.133 12.592C111.778 11.0987 114.808 10.352 118.221 10.352C121.549 10.352 124.493 11.0773 127.053 12.528C129.613 13.9787 131.576 15.984 132.941 18.544C134.349 21.0613 135.053 23.92 135.053 27.12ZM129.037 25.904C129.037 23.6853 128.546 21.7867 127.565 20.208C126.584 18.5867 125.24 17.3707 123.533 16.56C121.869 15.7067 120.013 15.28 117.965 15.28C115.021 15.28 112.504 16.2187 110.413 18.096C108.365 19.9733 107.192 22.576 106.893 25.904H129.037ZM148.565 16.624C149.589 14.6187 151.039 13.0613 152.917 11.952C154.837 10.8427 157.162 10.288 159.893 10.288V16.304H158.357C151.829 16.304 148.565 19.8453 148.565 26.928V46H142.741V10.928H148.565V16.624ZM181.912 46.576C178.626 46.576 175.64 45.8293 172.952 44.336C170.306 42.8427 168.216 40.7307 166.68 38C165.186 35.2267 164.44 32.0267 164.44 28.4C164.44 24.816 165.208 21.6587 166.744 18.928C168.322 16.1547 170.456 14.0427 173.144 12.592C175.832 11.0987 178.84 10.352 182.168 10.352C185.496 10.352 188.504 11.0987 191.192 12.592C193.88 14.0427 195.992 16.1333 197.528 18.864C199.106 21.5947 199.896 24.7733 199.896 28.4C199.896 32.0267 199.085 35.2267 197.464 38C195.885 40.7307 193.73 42.8427 191 44.336C188.269 45.8293 185.24 46.576 181.912 46.576ZM181.912 41.456C184.002 41.456 185.965 40.9653 187.8 39.984C189.634 39.0027 191.106 37.5307 192.216 35.568C193.368 33.6053 193.944 31.216 193.944 28.4C193.944 25.584 193.389 23.1947 192.28 21.232C191.17 19.2693 189.72 17.8187 187.928 16.88C186.136 15.8987 184.194 15.408 182.104 15.408C179.97 15.408 178.008 15.8987 176.216 16.88C174.466 17.8187 173.058 19.2693 171.992 21.232C170.925 23.1947 170.392 25.584 170.392 28.4C170.392 31.2587 170.904 33.6693 171.928 35.632C172.994 37.5947 174.402 39.0667 176.152 40.048C177.901 40.9867 179.821 41.456 181.912 41.456ZM222.849 46.576C219.564 46.576 216.577 45.8293 213.889 44.336C211.244 42.8427 209.153 40.7307 207.617 38C206.124 35.2267 205.377 32.0267 205.377 28.4C205.377 24.816 206.145 21.6587 207.681 18.928C209.26 16.1547 211.393 14.0427 214.081 12.592C216.769 11.0987 219.777 10.352 223.105 10.352C226.433 10.352 229.441 11.0987 232.129 12.592C234.817 14.0427 236.929 16.1333 238.465 18.864C240.044 21.5947 240.833 24.7733 240.833 28.4C240.833 32.0267 240.022 35.2267 238.401 38C236.822 40.7307 234.668 42.8427 231.937 44.336C229.206 45.8293 226.177 46.576 222.849 46.576ZM222.849 41.456C224.94 41.456 226.902 40.9653 228.737 39.984C230.572 39.0027 232.044 37.5307 233.153 35.568C234.305 33.6053 234.881 31.216 234.881 28.4C234.881 25.584 234.326 23.1947 233.217 21.232C232.108 19.2693 230.657 17.8187 228.865 16.88C227.073 15.8987 225.132 15.408 223.041 15.408C220.908 15.408 218.945 15.8987 217.153 16.88C215.404 17.8187 213.996 19.2693 212.929 21.232C211.862 23.1947 211.329 25.584 211.329 28.4C211.329 31.2587 211.841 33.6693 212.865 35.632C213.932 37.5947 215.34 39.0667 217.089 40.048C218.838 40.9867 220.758 41.456 222.849 41.456ZM254.315 17.392C255.467 15.3867 257.173 13.7227 259.435 12.4C261.739 11.0347 264.405 10.352 267.435 10.352C270.549 10.352 273.365 11.0987 275.882 12.592C278.442 14.0853 280.448 16.1973 281.899 18.928C283.349 21.616 284.075 24.752 284.075 28.336C284.075 31.8773 283.349 35.0347 281.899 37.808C280.448 40.5813 278.442 42.736 275.882 44.272C273.365 45.808 270.549 46.576 267.435 46.576C264.448 46.576 261.803 45.9147 259.499 44.592C257.237 43.2267 255.509 41.5413 254.315 39.536V62.64H248.491V10.928H254.315V17.392ZM278.123 28.336C278.123 25.6907 277.589 23.3867 276.523 21.424C275.456 19.4613 274.005 17.968 272.171 16.944C270.379 15.92 268.395 15.408 266.219 15.408C264.085 15.408 262.101 15.9413 260.267 17.008C258.475 18.032 257.024 19.5467 255.915 21.552C254.848 23.5147 254.315 25.7973 254.315 28.4C254.315 31.0453 254.848 33.3707 255.915 35.376C257.024 37.3387 258.475 38.8533 260.267 39.92C262.101 40.944 264.085 41.456 266.219 41.456C268.395 41.456 270.379 40.944 272.171 39.92C274.005 38.8533 275.456 37.3387 276.523 35.376C277.589 33.3707 278.123 31.024 278.123 28.336Z" />
                    </svg>

                </Link>


            </Box>

            <Stack direction='row' alignItems="center" sx={{ position: 'relative' }} spacing={3} mr={4}>
                {/* <Toolbar sx={{ display: 'flex', justifyContent: 'space-between', flexDirection: 'row', alignItems: 'center', width: '30vw' }}> */}
                {showStack && <NavLinkStack direction='row' alignItems="center" spacing={4}>
                    <Link href="/resume.pdf">
                        <Button varient="contained" sx={{
                            padding: '5px 15px',

                        }}>
                            Resume
                        </Button>
                    </Link>
                    <Link spy smooth offset={-100} to="experience">Experience</Link>
                    <Link spy smooth offset={-100} to="projects">Projects</Link>
                    <Link spy smooth offset={-100} to="skills">Skills</Link>
                    <Link spy smooth offset={-100} to="connect">Connect</Link>
                </NavLinkStack>}
                {/* </Toolbar> */}
                <ThemeToggler />

                <IconButton
                    edge="start"
                    color="inherit"
                    aria-label="open drawer"
                    onClick={toggleDrawer(true)}
                    sx={{
                        marginLeft: '20px',
                        '&.MuiIconButton-root': {
                            [theme?.breakpoints?.up("md")]: {
                                display: "none",
                            }
                        }
                    }}
                >
                    <Menu />
                </IconButton>

            </Stack>



            <Drawer
                anchor='right'
                open={open}
                onClose={toggleDrawer(false)}
                sx={{
                    width: 320,
                    minHeight: '30vh',
                    display: "flex",
                    justifyContent: "space-around",
                    alignItems: 'center',
                    flexDirection: 'column',


                }}
            >
                <Box sx={{
                    width: '320px',
                    height: '100%',
                    padding: '20px'
                }}>
                    <IconButton
                        edge="start"
                        color="inherit"
                        aria-label="open drawer"
                        onClick={toggleDrawer(false)}
                        sx={{
                            marginLeft: '20px',
                        }}
                    >
                        <Close />
                    </IconButton>

                    <NavLinkStack direction='column' alignItems="center" spacing={4}
                        sx={{
                            marginTop: '2rem'
                        }}>
                        <Link href="/resume.pdf">
                            <Button varient="contained" sx={{
                                padding: '5px 15px',
                            }}>
                                Resume
                            </Button>
                        </Link>
                        <Link to="experience">Experience</Link>
                        <Link to="projects">Projects</Link>
                        <Link to="skills">Skills</Link>
                        <Link to="connect">Connect</Link>
                    </NavLinkStack>
                </Box>
            </Drawer>

        </AppBar >

    )
};
export default Nav;
